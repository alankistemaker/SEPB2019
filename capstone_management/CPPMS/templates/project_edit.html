{% extends "project.html" %}

{% block sub-page_content %}

<h2>Edit Project Details</h2>
{% for message in messages %}<li>{{ message }}</li>{% endfor %}

{% endblock %}

{% block page_detail_content %}

<div class="row mb-2">

    <div class="col-lg-1"></div>
    <div class="col-md-1"></div>
    <div class="col-sm-1"></div>


    <div class="col">

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h3 class="card-header">{{ project_detail.title }}</h3>

                    {% include "form_templates/card_body_form.html" with form=project_form %}

                    <div class="card-footer">
                        <button type="submit" name="edit_project" value="edit_project" class="btn btn-dark">Submit</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h5 class="card-header">Assign a project supervisor:</h5>
                    <div class="card-body">
                        <div class="input-group input-group-sm">
                            <div class="col">{{ internal_supervisor_list }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h5 class="card-header"><a data-toggle="collapse" href="#collapse1">Create New Internal Supervisor:</a></h5>
                    <div id="collapse1" class="collapse">
                        <form method="POST">
                            <div class="card-body">
                                {% include "form_templates/card_body_form.html" with form=internal_supervisors %}
                            </div>

                            <div class="card-footer">
                                <button class="btn btn-dark" data-toggle="tooltip" href="">Add</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h5 class="card-header">Assign a Unit</h5>
                    <div class="card-body">
                        <div class="input-group input-group-sm">
                            <div class="col">{{ unit_list }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h5 class="card-header"><a data-toggle="collapse" href="#collapse2">Create New Unit</a></h5>
                    <div id="collapse2" class="collapse">
                        <form method="POST">
                            <div class="card-body">
                                {% include "form_templates/card_body_form.html" with form=units %}
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-dark" role="button" name="add_unit" href="">Add</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <h5 class="card-header">Group - {{ project_detail.group.title }}</h5>
                    <form method="POST">
                        <div class="card-body">
                            <div class="col sm-2"></div>
                            <div class="col">
                                <div class="row mb-2">

                                    <div class="table-responsive card shadow-sm">
                                        <table class="table table-bordered table-hover">
                                            <thead class="thead-dark">
                                                <tr>
                                                    <th scope="col"><strong>ID</strong></th>
                                                    <th scope="col"><strong>Name</strong></th>
                                                    <th scope="col"><strong>Email</strong></th>
                                                    <th scope="col"><strong>Options</strong></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for student in project_detail.group.students.all %}
                                                <tr scope="row">
                                                    <td>{{ student.pk }}</td>
                                                    <td>{{ student.name }}</td>
                                                    <td>{{ student.email }}</td>
                                                    <td>
                                                        <a class="btn btn-primary" role="button">Edit</a>

                                                    </td>
                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="row mb-2">
                                    <div class="col">{{ student_list }}
                                        <button class="btn btn-dark" role="button" data-toggle="tooltip" href="">Assign Student</button>
                                    </div>
                                </div>

                            </div>
                            <div class="col sm-2"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col">
                <div class="card">

                    <h5 class="card-header"><a data-toggle="collapse" href="#collapse4">Create New Group</a></h5>
                    <div class="collapse" id="collapse4">
                        <form method="POST">
                            <div class="card-body">
                                {% include "form_templates/card_body_form.html" with form=groups %}
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-dark" role="button" data-toggle="tooltip" href="">New Group</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-1"></div>
    <div class="col-md-1"></div>
    <div class="col-lg-1"></div>
</div>
{% endblock %}
